---
# defaults/main.yml - create_lpar_lv role
#
# Erstellt auf der VIOS ein Logical Volume, vSCSI-Adapter (LPAR <-> VIOS)
# und mappt das LV als virtuelles SCSI-Laufwerk an die LPAR.
#
# Pflichtparameter (kein Default):
#   create_lpar_lv_lpar_name       - Name der LPAR
#   create_lpar_lv_managed_system  - Managed System (z.B. power91)
#   create_lpar_lv_volume_name     - Name des Logical Volume
#   create_lpar_lv_volume_group    - Volume Group auf der VIOS
#   create_lpar_lv_vios_name       - VIOS-Partition (z.B. power91-vios)
#   create_lpar_lv_hmc_password    - HMC-Passwort (SSH)
# VIOS-SSH wird nicht mehr genutzt; alle VIOS-Befehle laufen per viosvrcmd von der HMC.
#
# Optional (mit Default):
#   create_lpar_lv_hmc_host        - HMC-Host (Default: inventory_hostname bei hosts: hmc)
#   create_lpar_lv_hmc_username    - HMC-Benutzer
#   create_lpar_lv_disk_size_gb    - Größe des LV in GB
#   create_lpar_lv_vios_ip         - VIOS IP/Hostname (falls nicht gleich vios_name)
#   create_lpar_lv_vios_user       - VIOS-SSH-User
#   create_lpar_lv_vscsi_client_slot - vSCSI-Client-Slot an der LPAR
#   create_lpar_lv_vscsi_server_slot - vSCSI-Server-Slot an der VIOS (leer = auto)
#   create_lpar_lv_vtd_name        - VTD-Name für Mapping (leer = abgeleitet, max 15 Zeichen)

# =============================================================================
# HMC
# =============================================================================
# HMC-Host (wird oft aus Inventory gesetzt: inventory_hostname bei hosts: hmc)
create_lpar_lv_hmc_host: "{{ inventory_hostname }}"
create_lpar_lv_hmc_username: "{{ hmc_user | default('hscroot') }}"
# create_lpar_lv_hmc_password: ""   # Pflicht, via -e oder Vault

# =============================================================================
# LPAR & Managed System
# =============================================================================
# create_lpar_lv_lpar_name: ""        # Pflicht
# create_lpar_lv_managed_system: ""   # Pflicht

# =============================================================================
# Disk & Volume
# =============================================================================
create_lpar_lv_disk_size_gb: 50
# create_lpar_lv_volume_name: ""     # Pflicht, z.B. mylpar_runix
# create_lpar_lv_volume_group: ""    # Pflicht, z.B. datavg

# =============================================================================
# VIOS
# =============================================================================
# create_lpar_lv_vios_name: ""        # Pflicht, z.B. power91-vios
# create_lpar_lv_vios_ip: ""         # Optional (nur für Anzeige)
# create_lpar_lv_vios_user / vios_password: nicht mehr benötigt (viosvrcmd von HMC)

# =============================================================================
# Virtual SCSI Slots (optional)
# =============================================================================
create_lpar_lv_vscsi_client_slot: 3
# Server-Slot: leer = automatisch (PartitionID + 10)
# create_lpar_lv_vscsi_server_slot: ""
# VTD-Name für mkvdev (max 15 Zeichen); leer = aus volume_name/lpar_name abgeleitet
# create_lpar_lv_vtd_name: ""
